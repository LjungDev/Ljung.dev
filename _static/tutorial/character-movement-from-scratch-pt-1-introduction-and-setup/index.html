<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><title>Ljung | Character Movement from Scratch pt 1: Introduction and Setup</title><meta name="description" content="Learn how to make basic first-person character movement from scratch in Unreal Engine using C++."/><meta name="next-head-count" content="4"/><link rel="icon" href="/favicon.ico"/><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"/><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"/><link rel="manifest" href="/site.webmanifest"/><link rel="preconnect" href="https://fonts.googleapis.com"/><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"/><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin /><link rel="preload" href="/_next/static/css/14da082a368919fc.css" as="style"/><link rel="stylesheet" href="/_next/static/css/14da082a368919fc.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-2c644d3580cecc35.js" defer=""></script><script src="/_next/static/chunks/framework-9b5d6ec4444c80fa.js" defer=""></script><script src="/_next/static/chunks/main-7c70317c243a4143.js" defer=""></script><script src="/_next/static/chunks/pages/_app-301819447092fb27.js" defer=""></script><script src="/_next/static/chunks/ddc9e94f-4c7cb313852dfa1e.js" defer=""></script><script src="/_next/static/chunks/247-2427dfe63c188f3b.js" defer=""></script><script src="/_next/static/chunks/13-1bb7831376086322.js" defer=""></script><script src="/_next/static/chunks/pages/tutorial/%5Bslug%5D-22eeb0a3910b85b8.js" defer=""></script><script src="/_next/static/FdMC6e8Jf18CHKkiz_cXU/_buildManifest.js" defer=""></script><script src="/_next/static/FdMC6e8Jf18CHKkiz_cXU/_ssgManifest.js" defer=""></script><style data-href="https://fonts.googleapis.com/css2?family=Baloo+2&family=Fira+Code&family=Open+Sans:wght@300;400;700&display=swap">@font-face{font-family:'Baloo 2';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/baloo2/v14/wXK0E3kTposypRydzVT08TS3JnAmtdgazaps.woff) format('woff')}@font-face{font-family:'Fira Code';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/firacode/v21/uU9eCBsR6Z2vfE9aq3bL0fxyUs4tcw4W_D1sFVQ.woff) format('woff')}@font-face{font-family:'Open Sans';font-style:normal;font-weight:300;font-stretch:normal;font-display:swap;src:url(https://fonts.gstatic.com/s/opensans/v34/memSYaGs126MiZpBA-UvWbX2vVnXBbObj2OVZyOOSr4dVJWUgsiH0C4k.woff) format('woff')}@font-face{font-family:'Open Sans';font-style:normal;font-weight:400;font-stretch:normal;font-display:swap;src:url(https://fonts.gstatic.com/s/opensans/v34/memSYaGs126MiZpBA-UvWbX2vVnXBbObj2OVZyOOSr4dVJWUgsjZ0C4k.woff) format('woff')}@font-face{font-family:'Open Sans';font-style:normal;font-weight:700;font-stretch:normal;font-display:swap;src:url(https://fonts.gstatic.com/s/opensans/v34/memSYaGs126MiZpBA-UvWbX2vVnXBbObj2OVZyOOSr4dVJWUgsg-1y4k.woff) format('woff')}@font-face{font-family:'Baloo 2';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/baloo2/v14/wXK0E3kTposypRydzVT08TS3JnAmtdgazZpp_lGP6HcMqzQCjA.woff) format('woff');unicode-range:U+0900-097F,U+1CD0-1CF6,U+1CF8-1CF9,U+200C-200D,U+20A8,U+20B9,U+25CC,U+A830-A839,U+A8E0-A8FB}@font-face{font-family:'Baloo 2';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/baloo2/v14/wXK0E3kTposypRydzVT08TS3JnAmtdgazZpn_lGP6HcMqzQCjA.woff) format('woff');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Baloo 2';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/baloo2/v14/wXK0E3kTposypRydzVT08TS3JnAmtdgazZpm_lGP6HcMqzQCjA.woff) format('woff');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Baloo 2';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/baloo2/v14/wXK0E3kTposypRydzVT08TS3JnAmtdgazZpo_lGP6HcMqzQ.woff) format('woff');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Fira Code';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/firacode/v21/uU9eCBsR6Z2vfE9aq3bL0fxyUs4tcw4W_D1sJV37MOzlojwUKaJO.woff) format('woff');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Fira Code';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/firacode/v21/uU9eCBsR6Z2vfE9aq3bL0fxyUs4tcw4W_D1sJVT7MOzlojwUKaJO.woff) format('woff');unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Fira Code';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/firacode/v21/uU9eCBsR6Z2vfE9aq3bL0fxyUs4tcw4W_D1sJVz7MOzlojwUKaJO.woff) format('woff');unicode-range:U+1F00-1FFF}@font-face{font-family:'Fira Code';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/firacode/v21/uU9eCBsR6Z2vfE9aq3bL0fxyUs4tcw4W_D1sJVP7MOzlojwUKaJO.woff) format('woff');unicode-range:U+0370-03FF}@font-face{font-family:'Fira Code';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/firacode/v21/uU9eCBsR6Z2vfE9aq3bL0fxyUs4tcw4W_D1sJV77MOzlojwUKaJO.woff) format('woff');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Fira Code';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/firacode/v21/uU9eCBsR6Z2vfE9aq3bL0fxyUs4tcw4W_D1sJVD7MOzlojwUKQ.woff) format('woff');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Open Sans';font-style:normal;font-weight:300;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/opensans/v34/memvYaGs126MiZpBA-UvWbX2vVnXBbObj2OVTSKmu0SC55K5gw.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Open Sans';font-style:normal;font-weight:300;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/opensans/v34/memvYaGs126MiZpBA-UvWbX2vVnXBbObj2OVTSumu0SC55K5gw.woff2) format('woff2');unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Open Sans';font-style:normal;font-weight:300;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/opensans/v34/memvYaGs126MiZpBA-UvWbX2vVnXBbObj2OVTSOmu0SC55K5gw.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Open Sans';font-style:normal;font-weight:300;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/opensans/v34/memvYaGs126MiZpBA-UvWbX2vVnXBbObj2OVTSymu0SC55K5gw.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:'Open Sans';font-style:normal;font-weight:300;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/opensans/v34/memvYaGs126MiZpBA-UvWbX2vVnXBbObj2OVTS2mu0SC55K5gw.woff2) format('woff2');unicode-range:U+0590-05FF,U+200C-2010,U+20AA,U+25CC,U+FB1D-FB4F}@font-face{font-family:'Open Sans';font-style:normal;font-weight:300;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/opensans/v34/memvYaGs126MiZpBA-UvWbX2vVnXBbObj2OVTSCmu0SC55K5gw.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Open Sans';font-style:normal;font-weight:300;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/opensans/v34/memvYaGs126MiZpBA-UvWbX2vVnXBbObj2OVTSGmu0SC55K5gw.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Open Sans';font-style:normal;font-weight:300;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/opensans/v34/memvYaGs126MiZpBA-UvWbX2vVnXBbObj2OVTS-mu0SC55I.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Open Sans';font-style:normal;font-weight:400;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/opensans/v34/memvYaGs126MiZpBA-UvWbX2vVnXBbObj2OVTSKmu0SC55K5gw.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Open Sans';font-style:normal;font-weight:400;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/opensans/v34/memvYaGs126MiZpBA-UvWbX2vVnXBbObj2OVTSumu0SC55K5gw.woff2) format('woff2');unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Open Sans';font-style:normal;font-weight:400;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/opensans/v34/memvYaGs126MiZpBA-UvWbX2vVnXBbObj2OVTSOmu0SC55K5gw.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Open Sans';font-style:normal;font-weight:400;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/opensans/v34/memvYaGs126MiZpBA-UvWbX2vVnXBbObj2OVTSymu0SC55K5gw.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:'Open Sans';font-style:normal;font-weight:400;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/opensans/v34/memvYaGs126MiZpBA-UvWbX2vVnXBbObj2OVTS2mu0SC55K5gw.woff2) format('woff2');unicode-range:U+0590-05FF,U+200C-2010,U+20AA,U+25CC,U+FB1D-FB4F}@font-face{font-family:'Open Sans';font-style:normal;font-weight:400;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/opensans/v34/memvYaGs126MiZpBA-UvWbX2vVnXBbObj2OVTSCmu0SC55K5gw.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Open Sans';font-style:normal;font-weight:400;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/opensans/v34/memvYaGs126MiZpBA-UvWbX2vVnXBbObj2OVTSGmu0SC55K5gw.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Open Sans';font-style:normal;font-weight:400;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/opensans/v34/memvYaGs126MiZpBA-UvWbX2vVnXBbObj2OVTS-mu0SC55I.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Open Sans';font-style:normal;font-weight:700;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/opensans/v34/memvYaGs126MiZpBA-UvWbX2vVnXBbObj2OVTSKmu0SC55K5gw.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Open Sans';font-style:normal;font-weight:700;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/opensans/v34/memvYaGs126MiZpBA-UvWbX2vVnXBbObj2OVTSumu0SC55K5gw.woff2) format('woff2');unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Open Sans';font-style:normal;font-weight:700;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/opensans/v34/memvYaGs126MiZpBA-UvWbX2vVnXBbObj2OVTSOmu0SC55K5gw.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Open Sans';font-style:normal;font-weight:700;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/opensans/v34/memvYaGs126MiZpBA-UvWbX2vVnXBbObj2OVTSymu0SC55K5gw.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:'Open Sans';font-style:normal;font-weight:700;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/opensans/v34/memvYaGs126MiZpBA-UvWbX2vVnXBbObj2OVTS2mu0SC55K5gw.woff2) format('woff2');unicode-range:U+0590-05FF,U+200C-2010,U+20AA,U+25CC,U+FB1D-FB4F}@font-face{font-family:'Open Sans';font-style:normal;font-weight:700;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/opensans/v34/memvYaGs126MiZpBA-UvWbX2vVnXBbObj2OVTSCmu0SC55K5gw.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Open Sans';font-style:normal;font-weight:700;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/opensans/v34/memvYaGs126MiZpBA-UvWbX2vVnXBbObj2OVTSGmu0SC55K5gw.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Open Sans';font-style:normal;font-weight:700;font-stretch:100%;font-display:swap;src:url(https://fonts.gstatic.com/s/opensans/v34/memvYaGs126MiZpBA-UvWbX2vVnXBbObj2OVTS-mu0SC55I.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}</style></head><body><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-M8H57QK" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div id="__next"><div class="flex flex-col min-h-screen"><div class="flex flex-col items-center grow pt-12 bg-snow-storm-2 dark:bg-polar-night-0"><div class="flex items-center gap-2"><div class="flex items-center gap-2 hover:cursor-pointer hover:opacity-75"><div class="relative w-14 h-24"><span style="box-sizing:border-box;display:block;overflow:hidden;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;position:absolute;top:0;left:0;bottom:0;right:0"><img alt="Logo" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="fill" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%;object-fit:contain"/><noscript><img alt="Logo" src="/logo.svg" decoding="async" data-nimg="fill" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%;object-fit:contain" loading="lazy"/></noscript></span></div><div class=" flex flex-col items-center gap-1"><div class="relative"><h1 class="text-6xl font-display text-polar-night-0 dark:text-snow-storm-2">Ljung</h1><span class="absolute right-0 bottom-0.5 w-0"><span class="text-base font-display opacity-50 text-polar-night-0 dark:text-snow-storm-2"></span></span></div></div><span class="text-base font-display opacity-50 text-polar-night-0 dark:text-snow-storm-2">.dev</span></div><div class="flex gap-1 items-center font-body text-base"><a class="font-bold text-polar-night-0 dark:text-snow-storm-2" href="/tutorials/">Tutorials</a></div></div><div class="max-w-xl w-full flex flex-col gap-12 items-center mb-12"><div class="h-[1px] w-full opacity-10 bg-polar-night-0 dark:bg-snow-storm-2"></div><div class="flex flex-col gap-5 max-w-[min(100%,512px)] m-3 p-3 text-polar-night-0 dark:text-snow-storm-2 text-base font-body"><div class="flex"><div class="grow text-left"></div><div class="grow text-right"><a class="text-frost-3 dark:text-frost-1 hover:opacity-50 active:opacity-75" href="/tutorial/character-movement-from-scratch-pt-2-basic-movement/">pt 2: Basic Movement<!-- --> »</a></div></div><div><blockquote class="bg-snow-storm-0 dark:bg-polar-night-1 border-l-4 border-l-polar-night-0 dark:border-l-snow-storm-0 px-4 py-2 my-2"><p class="py-2 false">A project using this tutorial series is <a target="_blank" class="text-frost-3 dark:text-frost-1 hover:opacity-50 active:opacity-75" href="https://github.com/LjungDev/Cactus">tracked on GitHub</a>. The revision after this part is <a target="_blank" class="text-frost-3 dark:text-frost-1 hover:opacity-50 active:opacity-75" href="https://github.com/LjungDev/Cactus/commit/b2f7b4c300e5c74ae9ba6345f8302316e906a606">b2f7b4c</a>.</p></blockquote><p class="py-2 false">Hej!</p><p class="py-2 false">If you&#x27;re using Unreal Engine and you have a character that you want to move then you&#x27;ve probably stumbled upon the built-in <code class="px-1 rounded-sm bg-snow-storm-0 dark:bg-polar-night-2">Character</code> and <code class="px-1 rounded-sm bg-snow-storm-0 dark:bg-polar-night-2">CharacterMovement</code> classes. Together these classes allow you to easily set up a game character complete with movement, gravity, physics, animations, and networking.</p><p class="py-2 false">However this can also be very daunting as you might find yourself struggling to find the right combination of properties and values to get just the right feel for your game. Looking through the source code is extremely helpful, however between the two classes there are almost 19k lines of code, and <code class="px-1 rounded-sm bg-snow-storm-0 dark:bg-polar-night-2">CharacterMovement.cpp</code> alone takes up 13k (!) of those. While lots of it is chalked up to comments and formatting, the breadth is the meticulous engineering efforts of 50+ contributors.</p><p class="py-2 false">But the pair of classes are not a one-size-fits-all. Notably they&#x27;re probably too heavy for something like crowd controlling hundreds of units in an RTS, and integrating custom movement options (e.g. wall-climbing, vaulting etc.) might not seem straight-forward.</p><p class="py-2 false">For me, I wanted to understand how exactly basic movement works and so I set out to build a basic first-person shooter game (similar in vein to old-school Quake and Doom games) featuring basic but common movement operations.</p><p class="py-2 false">The list of movement operations I&#x27;m going to implement are:</p><ul class="list-disc list-inside"><li class="my-2 pl-2"><p class="py-2 inline">Basic movement + camera look</p></li><li class="my-2 pl-2"><p class="py-2 inline">Simple collision and slide along surfaces</p></li><li class="my-2 pl-2"><p class="py-2 inline">Gravity</p></li><li class="my-2 pl-2"><p class="py-2 inline">Jumping</p></li><li class="my-2 pl-2"><p class="py-2 inline">Step down (walk down slopes/stairs)</p></li><li class="my-2 pl-2"><p class="py-2 inline">Step up (walk up slopes/stairs)</p></li><li class="my-2 pl-2"><p class="py-2 inline">Limit climbable angles (steepness)</p></li><li class="my-2 pl-2"><p class="py-2 inline">Moving platforms</p></li><li class="my-2 pl-2"><p class="py-2 inline">Friction (e.g. ice, mud)</p></li><li class="my-2 pl-2"><p class="py-2 inline">Swimming</p></li></ul><blockquote class="bg-snow-storm-0 dark:bg-polar-night-1 border-l-4 border-l-polar-night-0 dark:border-l-snow-storm-0 px-4 py-2 my-2"><p class="py-2 false">Note: This series does not go too much into depth some of the Unreal and mathematical details, so it is best if you&#x27;re already familiar with the engine in general, as well as basic vector math and physics.</p></blockquote><h1 class="font-display text-4xl pt-6">Setup</h1><p class="py-2 false">To start off this tutorial series we will create a fresh project and setup all the boilerplate needed to get going with the movement code.</p><p class="py-2 false">I will be using Unreal Engine 5.0.3 on Windows 10 however the instructions should be mostly the same for newer/other versions.</p><h2 class="font-display text-3xl pt-5">Boilerplate classes</h2><p class="py-2 false">To start implementing movement code we start with a blank C++ project. The basic classes we need are:</p><ul class="list-disc list-inside"><li class="my-2 pl-2"><p class="py-2 inline">A game mode class (<code class="px-1 rounded-sm bg-snow-storm-0 dark:bg-polar-night-2">AGameMode</code>, here named <code class="px-1 rounded-sm bg-snow-storm-0 dark:bg-polar-night-2">ACactusGameMode</code>)</p></li><li class="my-2 pl-2"><p class="py-2 inline">A player controller class (<code class="px-1 rounded-sm bg-snow-storm-0 dark:bg-polar-night-2">APlayerController</code>, here named <code class="px-1 rounded-sm bg-snow-storm-0 dark:bg-polar-night-2">ACactusPlayerController</code>)</p></li><li class="my-2 pl-2"><p class="py-2 inline">A pawn class (<code class="px-1 rounded-sm bg-snow-storm-0 dark:bg-polar-night-2">APawn</code>, here named <code class="px-1 rounded-sm bg-snow-storm-0 dark:bg-polar-night-2">ACactusPlayerPawn</code>)</p></li><li class="my-2 pl-2"><p class="py-2 inline">A pawn movement component (<code class="px-1 rounded-sm bg-snow-storm-0 dark:bg-polar-night-2">UPawnMovementComponent</code>, here named <code class="px-1 rounded-sm bg-snow-storm-0 dark:bg-polar-night-2">USimpleMovementComponent</code>)</p></li></ul><p class="py-2 false">In addition I&#x27;ve also created the following boilerplate classes that are for now unrelated to movement:</p><ul class="list-disc list-inside"><li class="my-2 pl-2"><p class="py-2 inline"><code class="px-1 rounded-sm bg-snow-storm-0 dark:bg-polar-night-2">ACactusGameState</code> derived from <code class="px-1 rounded-sm bg-snow-storm-0 dark:bg-polar-night-2">AGameStateBase</code></p></li><li class="my-2 pl-2"><p class="py-2 inline"><code class="px-1 rounded-sm bg-snow-storm-0 dark:bg-polar-night-2">ACactusPlayerState</code> derived from <code class="px-1 rounded-sm bg-snow-storm-0 dark:bg-polar-night-2">APlayerState</code></p></li></ul><p class="py-2 false">Here are the required source files:</p><ul class="list-disc list-inside"><li class="my-2 pl-2"><p class="py-2 inline"><code class="px-1 rounded-sm bg-snow-storm-0 dark:bg-polar-night-2">CactusGameMode.h</code></p></li></ul><div class="border-snow-storm-0 dark:border-polar-night-1 border-2 rounded flex flex-col gap-1 my-2"><span class="text-polar-night-3 mx-2">cpp</span><pre style="color:#f8f8f2;background:#2E3440;font-family:&quot;Fira Code&quot;, Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:0;overflow:auto;border-radius:0"><code class="language-cpp" style="color:#f8f8f2;background:none;font-family:&quot;Fira Code&quot;, Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#636f88">1</span><span class="token macro directive-hash" style="color:#81A1C1">#</span><span class="token macro directive" style="color:#81A1C1">pragma</span><span class="token macro" style="color:#81A1C1"> </span><span class="token macro expression" style="color:#81A1C1">once</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#636f88">2</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#636f88">3</span><span></span><span class="token macro directive-hash" style="color:#81A1C1">#</span><span class="token macro directive" style="color:#81A1C1">include</span><span class="token macro" style="color:#81A1C1"> </span><span class="token macro" style="color:#A3BE8C">&quot;CoreMinimal.h&quot;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#636f88">4</span><span></span><span class="token macro directive-hash" style="color:#81A1C1">#</span><span class="token macro directive" style="color:#81A1C1">include</span><span class="token macro" style="color:#81A1C1"> </span><span class="token macro" style="color:#A3BE8C">&quot;GameFramework/GameModeBase.h&quot;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#636f88">5</span><span></span><span class="token macro directive-hash" style="color:#81A1C1">#</span><span class="token macro directive" style="color:#81A1C1">include</span><span class="token macro" style="color:#81A1C1"> </span><span class="token macro" style="color:#A3BE8C">&quot;CactusGameMode.generated.h&quot;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#636f88">6</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#636f88">7</span><span></span><span class="token" style="color:#88C0D0">UCLASS</span><span class="token" style="color:#81A1C1">(</span><span class="token" style="color:#81A1C1">)</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#636f88">8</span><span></span><span class="token" style="color:#81A1C1">class</span><span> </span><span class="token" style="color:#88C0D0">CACTUS_API</span><span> ACactusGameMode </span><span class="token" style="color:#81A1C1">final</span><span> </span><span class="token" style="color:#81A1C1">:</span><span> </span><span class="token" style="color:#81A1C1">public</span><span> AGameModeBase
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#636f88">9</span><span></span><span class="token" style="color:#81A1C1">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#636f88">10</span><span>  </span><span class="token" style="color:#88C0D0">GENERATED_BODY</span><span class="token" style="color:#81A1C1">(</span><span class="token" style="color:#81A1C1">)</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#636f88">11</span><span></span><span class="token" style="color:#81A1C1">}</span><span class="token" style="color:#81A1C1">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#636f88">12</span></code></pre></div><ul class="list-disc list-inside"><li class="my-2 pl-2"><p class="py-2 inline"><code class="px-1 rounded-sm bg-snow-storm-0 dark:bg-polar-night-2">CactusGameMode.cpp</code></p></li></ul><div class="border-snow-storm-0 dark:border-polar-night-1 border-2 rounded flex flex-col gap-1 my-2"><span class="text-polar-night-3 mx-2">cpp</span><pre style="color:#f8f8f2;background:#2E3440;font-family:&quot;Fira Code&quot;, Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:0;overflow:auto;border-radius:0"><code class="language-cpp" style="color:#f8f8f2;background:none;font-family:&quot;Fira Code&quot;, Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:1.25em;padding-right:1em;text-align:right;user-select:none;color:#636f88">1</span><span class="token macro directive-hash" style="color:#81A1C1">#</span><span class="token macro directive" style="color:#81A1C1">include</span><span class="token macro" style="color:#81A1C1"> </span><span class="token macro" style="color:#A3BE8C">&quot;CactusGameMode.h&quot;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:1.25em;padding-right:1em;text-align:right;user-select:none;color:#636f88">2</span></code></pre></div><ul class="list-disc list-inside"><li class="my-2 pl-2"><p class="py-2 inline"><code class="px-1 rounded-sm bg-snow-storm-0 dark:bg-polar-night-2">CactusPlayerController.h</code></p></li></ul><div class="border-snow-storm-0 dark:border-polar-night-1 border-2 rounded flex flex-col gap-1 my-2"><span class="text-polar-night-3 mx-2">cpp</span><pre style="color:#f8f8f2;background:#2E3440;font-family:&quot;Fira Code&quot;, Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:0;overflow:auto;border-radius:0"><code class="language-cpp" style="color:#f8f8f2;background:none;font-family:&quot;Fira Code&quot;, Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#636f88">1</span><span class="token macro directive-hash" style="color:#81A1C1">#</span><span class="token macro directive" style="color:#81A1C1">pragma</span><span class="token macro" style="color:#81A1C1"> </span><span class="token macro expression" style="color:#81A1C1">once</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#636f88">2</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#636f88">3</span><span></span><span class="token macro directive-hash" style="color:#81A1C1">#</span><span class="token macro directive" style="color:#81A1C1">include</span><span class="token macro" style="color:#81A1C1"> </span><span class="token macro" style="color:#A3BE8C">&quot;CoreMinimal.h&quot;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#636f88">4</span><span></span><span class="token macro directive-hash" style="color:#81A1C1">#</span><span class="token macro directive" style="color:#81A1C1">include</span><span class="token macro" style="color:#81A1C1"> </span><span class="token macro" style="color:#A3BE8C">&quot;CactusPlayerController.generated.h&quot;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#636f88">5</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#636f88">6</span><span></span><span class="token" style="color:#88C0D0">UCLASS</span><span class="token" style="color:#81A1C1">(</span><span class="token" style="color:#81A1C1">)</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#636f88">7</span><span></span><span class="token" style="color:#81A1C1">class</span><span> </span><span class="token" style="color:#88C0D0">CACTUS_API</span><span> ACactusPlayerController </span><span class="token" style="color:#81A1C1">final</span><span> </span><span class="token" style="color:#81A1C1">:</span><span> </span><span class="token" style="color:#81A1C1">public</span><span> APlayerController
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#636f88">8</span><span></span><span class="token" style="color:#81A1C1">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#636f88">9</span><span>  </span><span class="token" style="color:#88C0D0">GENERATED_BODY</span><span class="token" style="color:#81A1C1">(</span><span class="token" style="color:#81A1C1">)</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#636f88">10</span><span></span><span class="token" style="color:#81A1C1">}</span><span class="token" style="color:#81A1C1">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#636f88">11</span></code></pre></div><ul class="list-disc list-inside"><li class="my-2 pl-2"><p class="py-2 inline"><code class="px-1 rounded-sm bg-snow-storm-0 dark:bg-polar-night-2">CactusPlayerController.cpp</code></p></li></ul><div class="border-snow-storm-0 dark:border-polar-night-1 border-2 rounded flex flex-col gap-1 my-2"><span class="text-polar-night-3 mx-2">cpp</span><pre style="color:#f8f8f2;background:#2E3440;font-family:&quot;Fira Code&quot;, Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:0;overflow:auto;border-radius:0"><code class="language-cpp" style="color:#f8f8f2;background:none;font-family:&quot;Fira Code&quot;, Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:1.25em;padding-right:1em;text-align:right;user-select:none;color:#636f88">1</span><span class="token macro directive-hash" style="color:#81A1C1">#</span><span class="token macro directive" style="color:#81A1C1">include</span><span class="token macro" style="color:#81A1C1"> </span><span class="token macro" style="color:#A3BE8C">&quot;CactusPlayerController.h&quot;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:1.25em;padding-right:1em;text-align:right;user-select:none;color:#636f88">2</span></code></pre></div><ul class="list-disc list-inside"><li class="my-2 pl-2"><p class="py-2 inline"><code class="px-1 rounded-sm bg-snow-storm-0 dark:bg-polar-night-2">CactusPlayerPawn.h</code></p></li></ul><div class="border-snow-storm-0 dark:border-polar-night-1 border-2 rounded flex flex-col gap-1 my-2"><span class="text-polar-night-3 mx-2">cpp</span><pre style="color:#f8f8f2;background:#2E3440;font-family:&quot;Fira Code&quot;, Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:0;overflow:auto;border-radius:0"><code class="language-cpp" style="color:#f8f8f2;background:none;font-family:&quot;Fira Code&quot;, Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#636f88">1</span><span class="token macro directive-hash" style="color:#81A1C1">#</span><span class="token macro directive" style="color:#81A1C1">pragma</span><span class="token macro" style="color:#81A1C1"> </span><span class="token macro expression" style="color:#81A1C1">once</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#636f88">2</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#636f88">3</span><span></span><span class="token macro directive-hash" style="color:#81A1C1">#</span><span class="token macro directive" style="color:#81A1C1">include</span><span class="token macro" style="color:#81A1C1"> </span><span class="token macro" style="color:#A3BE8C">&quot;CoreMinimal.h&quot;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#636f88">4</span><span></span><span class="token macro directive-hash" style="color:#81A1C1">#</span><span class="token macro directive" style="color:#81A1C1">include</span><span class="token macro" style="color:#81A1C1"> </span><span class="token macro" style="color:#A3BE8C">&quot;GameFramework/Pawn.h&quot;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#636f88">5</span><span></span><span class="token macro directive-hash" style="color:#81A1C1">#</span><span class="token macro directive" style="color:#81A1C1">include</span><span class="token macro" style="color:#81A1C1"> </span><span class="token macro" style="color:#A3BE8C">&quot;CactusPlayerPawn.generated.h&quot;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#636f88">6</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#636f88">7</span><span></span><span class="token" style="color:#88C0D0">UCLASS</span><span class="token" style="color:#81A1C1">(</span><span class="token" style="color:#81A1C1">)</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#636f88">8</span><span></span><span class="token" style="color:#81A1C1">class</span><span> </span><span class="token" style="color:#88C0D0">CACTUS_API</span><span> ACactusPlayerPawn </span><span class="token" style="color:#81A1C1">final</span><span> </span><span class="token" style="color:#81A1C1">:</span><span> </span><span class="token" style="color:#81A1C1">public</span><span> APawn
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#636f88">9</span><span></span><span class="token" style="color:#81A1C1">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#636f88">10</span><span>  </span><span class="token" style="color:#88C0D0">GENERATED_BODY</span><span class="token" style="color:#81A1C1">(</span><span class="token" style="color:#81A1C1">)</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#636f88">11</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#636f88">12</span><span></span><span class="token" style="color:#81A1C1">public</span><span class="token" style="color:#81A1C1">:</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#636f88">13</span><span>  </span><span class="token" style="color:#88C0D0">UPROPERTY</span><span class="token" style="color:#81A1C1">(</span><span>EditDefaultsOnly</span><span class="token" style="color:#81A1C1">)</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#636f88">14</span><span>  </span><span class="token" style="color:#81A1C1">class</span><span> </span><span class="token" style="color:#88C0D0">UCapsuleComponent</span><span class="token" style="color:#81A1C1">*</span><span> CapsuleComponent</span><span class="token" style="color:#81A1C1">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#636f88">15</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#636f88">16</span><span>  </span><span class="token" style="color:#88C0D0">UPROPERTY</span><span class="token" style="color:#81A1C1">(</span><span>EditDefaultsOnly</span><span class="token" style="color:#81A1C1">)</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#636f88">17</span><span>  </span><span class="token" style="color:#81A1C1">class</span><span> </span><span class="token" style="color:#88C0D0">UCameraComponent</span><span class="token" style="color:#81A1C1">*</span><span> CameraComponent</span><span class="token" style="color:#81A1C1">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#636f88">18</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#636f88">19</span><span>  </span><span class="token" style="color:#88C0D0">UPROPERTY</span><span class="token" style="color:#81A1C1">(</span><span>EditDefaultsOnly</span><span class="token" style="color:#81A1C1">)</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#636f88">20</span><span>  </span><span class="token" style="color:#81A1C1">class</span><span> </span><span class="token" style="color:#88C0D0">USimpleMovementComponent</span><span class="token" style="color:#81A1C1">*</span><span> MovementComponent</span><span class="token" style="color:#81A1C1">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#636f88">21</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#636f88">22</span><span>  </span><span class="token" style="color:#88C0D0">ACactusPlayerPawn</span><span class="token" style="color:#81A1C1">(</span><span class="token" style="color:#81A1C1">)</span><span class="token" style="color:#81A1C1">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#636f88">23</span><span></span><span class="token" style="color:#81A1C1">}</span><span class="token" style="color:#81A1C1">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#636f88">24</span></code></pre></div><ul class="list-disc list-inside"><li class="my-2 pl-2"><p class="py-2 inline"><code class="px-1 rounded-sm bg-snow-storm-0 dark:bg-polar-night-2">CactusPlayerPawn.cpp</code></p></li></ul><div class="border-snow-storm-0 dark:border-polar-night-1 border-2 rounded flex flex-col gap-1 my-2"><span class="text-polar-night-3 mx-2">cpp</span><pre style="color:#f8f8f2;background:#2E3440;font-family:&quot;Fira Code&quot;, Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:0;overflow:auto;border-radius:0"><code class="language-cpp" style="color:#f8f8f2;background:none;font-family:&quot;Fira Code&quot;, Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#636f88">1</span><span class="token macro directive-hash" style="color:#81A1C1">#</span><span class="token macro directive" style="color:#81A1C1">include</span><span class="token macro" style="color:#81A1C1"> </span><span class="token macro" style="color:#A3BE8C">&quot;CactusPlayerPawn.h&quot;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#636f88">2</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#636f88">3</span><span></span><span class="token macro directive-hash" style="color:#81A1C1">#</span><span class="token macro directive" style="color:#81A1C1">include</span><span class="token macro" style="color:#81A1C1"> </span><span class="token macro" style="color:#A3BE8C">&quot;SimpleMovementComponent.h&quot;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#636f88">4</span><span></span><span class="token macro directive-hash" style="color:#81A1C1">#</span><span class="token macro directive" style="color:#81A1C1">include</span><span class="token macro" style="color:#81A1C1"> </span><span class="token macro" style="color:#A3BE8C">&quot;Camera/CameraComponent.h&quot;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#636f88">5</span><span></span><span class="token macro directive-hash" style="color:#81A1C1">#</span><span class="token macro directive" style="color:#81A1C1">include</span><span class="token macro" style="color:#81A1C1"> </span><span class="token macro" style="color:#A3BE8C">&quot;Components/CapsuleComponent.h&quot;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#636f88">6</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#636f88">7</span><span></span><span class="token" style="color:#88C0D0">ACactusPlayerPawn</span><span class="token double-colon" style="color:#81A1C1">::</span><span class="token" style="color:#88C0D0">ACactusPlayerPawn</span><span class="token" style="color:#81A1C1">(</span><span class="token" style="color:#81A1C1">)</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#636f88">8</span><span></span><span class="token" style="color:#81A1C1">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#636f88">9</span><span>  CapsuleComponent </span><span class="token" style="color:#81A1C1">=</span><span> </span><span class="token generic-function" style="color:#88C0D0">CreateDefaultSubobject</span><span class="token generic-function generic" style="color:#81A1C1">&lt;</span><span class="token generic-function generic" style="color:#88C0D0">UCapsuleComponent</span><span class="token generic-function generic" style="color:#81A1C1">&gt;</span><span class="token" style="color:#81A1C1">(</span><span class="token" style="color:#88C0D0">TEXT</span><span class="token" style="color:#81A1C1">(</span><span class="token" style="color:#A3BE8C">&quot;Collider&quot;</span><span class="token" style="color:#81A1C1">)</span><span class="token" style="color:#81A1C1">)</span><span class="token" style="color:#81A1C1">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#636f88">10</span><span>  </span><span class="token" style="color:#88C0D0">SetRootComponent</span><span class="token" style="color:#81A1C1">(</span><span>CapsuleComponent</span><span class="token" style="color:#81A1C1">)</span><span class="token" style="color:#81A1C1">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#636f88">11</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#636f88">12</span><span>  CameraComponent </span><span class="token" style="color:#81A1C1">=</span><span> </span><span class="token generic-function" style="color:#88C0D0">CreateDefaultSubobject</span><span class="token generic-function generic" style="color:#81A1C1">&lt;</span><span class="token generic-function generic" style="color:#88C0D0">UCameraComponent</span><span class="token generic-function generic" style="color:#81A1C1">&gt;</span><span class="token" style="color:#81A1C1">(</span><span class="token" style="color:#88C0D0">TEXT</span><span class="token" style="color:#81A1C1">(</span><span class="token" style="color:#A3BE8C">&quot;Camera&quot;</span><span class="token" style="color:#81A1C1">)</span><span class="token" style="color:#81A1C1">)</span><span class="token" style="color:#81A1C1">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#636f88">13</span><span>  CameraComponent</span><span class="token" style="color:#81A1C1">-&gt;</span><span class="token" style="color:#88C0D0">SetupAttachment</span><span class="token" style="color:#81A1C1">(</span><span>CapsuleComponent</span><span class="token" style="color:#81A1C1">)</span><span class="token" style="color:#81A1C1">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#636f88">14</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#636f88">15</span><span>  MovementComponent </span><span class="token" style="color:#81A1C1">=</span><span> </span><span class="token generic-function" style="color:#88C0D0">CreateDefaultSubobject</span><span class="token generic-function generic" style="color:#81A1C1">&lt;</span><span class="token generic-function generic" style="color:#88C0D0">USimpleMovementComponent</span><span class="token generic-function generic" style="color:#81A1C1">&gt;</span><span class="token" style="color:#81A1C1">(</span><span class="token" style="color:#88C0D0">TEXT</span><span class="token" style="color:#81A1C1">(</span><span class="token" style="color:#A3BE8C">&quot;Movement&quot;</span><span class="token" style="color:#81A1C1">)</span><span class="token" style="color:#81A1C1">)</span><span class="token" style="color:#81A1C1">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#636f88">16</span><span></span><span class="token" style="color:#81A1C1">}</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#636f88">17</span></code></pre></div><ul class="list-disc list-inside"><li class="my-2 pl-2"><p class="py-2 inline"><code class="px-1 rounded-sm bg-snow-storm-0 dark:bg-polar-night-2">SimpleMovementComponent.h</code></p></li></ul><div class="border-snow-storm-0 dark:border-polar-night-1 border-2 rounded flex flex-col gap-1 my-2"><span class="text-polar-night-3 mx-2">cpp</span><pre style="color:#f8f8f2;background:#2E3440;font-family:&quot;Fira Code&quot;, Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:0;overflow:auto;border-radius:0"><code class="language-cpp" style="color:#f8f8f2;background:none;font-family:&quot;Fira Code&quot;, Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#636f88">1</span><span class="token macro directive-hash" style="color:#81A1C1">#</span><span class="token macro directive" style="color:#81A1C1">pragma</span><span class="token macro" style="color:#81A1C1"> </span><span class="token macro expression" style="color:#81A1C1">once</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#636f88">2</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#636f88">3</span><span></span><span class="token macro directive-hash" style="color:#81A1C1">#</span><span class="token macro directive" style="color:#81A1C1">include</span><span class="token macro" style="color:#81A1C1"> </span><span class="token macro" style="color:#A3BE8C">&quot;CoreMinimal.h&quot;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#636f88">4</span><span></span><span class="token macro directive-hash" style="color:#81A1C1">#</span><span class="token macro directive" style="color:#81A1C1">include</span><span class="token macro" style="color:#81A1C1"> </span><span class="token macro" style="color:#A3BE8C">&quot;GameFramework/PawnMovementComponent.h&quot;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#636f88">5</span><span></span><span class="token macro directive-hash" style="color:#81A1C1">#</span><span class="token macro directive" style="color:#81A1C1">include</span><span class="token macro" style="color:#81A1C1"> </span><span class="token macro" style="color:#A3BE8C">&quot;SimpleMovementComponent.generated.h&quot;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#636f88">6</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#636f88">7</span><span></span><span class="token" style="color:#88C0D0">UCLASS</span><span class="token" style="color:#81A1C1">(</span><span class="token" style="color:#81A1C1">)</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#636f88">8</span><span></span><span class="token" style="color:#81A1C1">class</span><span> </span><span class="token" style="color:#88C0D0">CACTUS_API</span><span> USimpleMovementComponent </span><span class="token" style="color:#81A1C1">final</span><span> </span><span class="token" style="color:#81A1C1">:</span><span> </span><span class="token" style="color:#81A1C1">public</span><span> UPawnMovementComponent
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#636f88">9</span><span></span><span class="token" style="color:#81A1C1">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#636f88">10</span><span>  </span><span class="token" style="color:#88C0D0">GENERATED_BODY</span><span class="token" style="color:#81A1C1">(</span><span class="token" style="color:#81A1C1">)</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#636f88">11</span><span></span><span class="token" style="color:#81A1C1">}</span><span class="token" style="color:#81A1C1">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#636f88">12</span></code></pre></div><ul class="list-disc list-inside"><li class="my-2 pl-2"><p class="py-2 inline"><code class="px-1 rounded-sm bg-snow-storm-0 dark:bg-polar-night-2">SimpleMovementComponent.cpp</code></p></li></ul><div class="border-snow-storm-0 dark:border-polar-night-1 border-2 rounded flex flex-col gap-1 my-2"><span class="text-polar-night-3 mx-2">cpp</span><pre style="color:#f8f8f2;background:#2E3440;font-family:&quot;Fira Code&quot;, Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:0;overflow:auto;border-radius:0"><code class="language-cpp" style="color:#f8f8f2;background:none;font-family:&quot;Fira Code&quot;, Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:1.25em;padding-right:1em;text-align:right;user-select:none;color:#636f88">1</span><span class="token macro directive-hash" style="color:#81A1C1">#</span><span class="token macro directive" style="color:#81A1C1">include</span><span class="token macro" style="color:#81A1C1"> </span><span class="token macro" style="color:#A3BE8C">&quot;SimpleMovementComponent.h&quot;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:1.25em;padding-right:1em;text-align:right;user-select:none;color:#636f88">2</span></code></pre></div><h2 class="font-display text-3xl pt-5">Blueprint classes</h2><p class="py-2 false">Next up is creating blueprint classes based on these C++ classes. This is technically not required but helps for rapid iteration when testing properties and debugging.</p><div class="flex justify-center cursor-pointer"><div style="overflow:hidden;position:relative;width:100%;max-width:483px"><img style="display:block;width:100%" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0ODMiIGhlaWdodD0iNDg5Ij48L3N2Zz4=" aria-hidden="true" alt=""/><img role="presentation" aria-hidden="true" alt="" src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAoHBwgHBhIRERALCgoLDhEVDg0NGhMQDREYFxUZGCIfFhUaHysjJh0oHRUWJDUlKC0vMjIyGSI4PTcwPCsxMi8BCgsLDg0OHBAQHDsoHR07Ly8vNTs7OzUvLy8vLy8vLy8vNS8vNS8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL//AABEIABkAGAMBIgACEQEDEQH/xAAXAAADAQAAAAAAAAAAAAAAAAAABQYE/8QAHBAAAgMAAwEAAAAAAAAAAAAAAAIBAwQRMkEF/8QAFgEBAQEAAAAAAAAAAAAAAAAAAwIE/8QAHBEAAgICAwAAAAAAAAAAAAAAAQIAEQMSBCEx/9oADAMBAAIRAxEAPwA1a1ZBM+hYsMM7nePTDq1sgrZwp7kaylq1rwBJ0/UbkAzyVuWEMeWY4SBZpzw0lBf0FF3Y158a7CAjGotjFEAbgBbGt+RlJqf/2Q==" style="opacity:1;transition:opacity 500ms;position:absolute;left:0;top:0;width:100%"/><noscript><picture><source srcSet="https://www.datocms-assets.com/77616/1660777502-fpmfs-setup-bp.png?auto=format&amp;dpr=0.25&amp;fm=webp&amp;max-w=600 120w,https://www.datocms-assets.com/77616/1660777502-fpmfs-setup-bp.png?auto=format&amp;dpr=0.5&amp;fm=webp&amp;max-w=600 241w,https://www.datocms-assets.com/77616/1660777502-fpmfs-setup-bp.png?auto=format&amp;dpr=0.75&amp;fm=webp&amp;max-w=600 362w,https://www.datocms-assets.com/77616/1660777502-fpmfs-setup-bp.png?auto=format&amp;fm=webp&amp;max-w=600 483w" sizes="(max-width: 483px) 100vw, 483px" type="image/webp"/><source srcSet="https://www.datocms-assets.com/77616/1660777502-fpmfs-setup-bp.png?auto=format&amp;dpr=0.25&amp;max-w=600 120w,https://www.datocms-assets.com/77616/1660777502-fpmfs-setup-bp.png?auto=format&amp;dpr=0.5&amp;max-w=600 241w,https://www.datocms-assets.com/77616/1660777502-fpmfs-setup-bp.png?auto=format&amp;dpr=0.75&amp;max-w=600 362w,https://www.datocms-assets.com/77616/1660777502-fpmfs-setup-bp.png?auto=format&amp;max-w=600 483w" sizes="(max-width: 483px) 100vw, 483px"/><img src="https://www.datocms-assets.com/77616/1660777502-fpmfs-setup-bp.png?auto=format&amp;max-w=600" alt="" style="position:absolute;left:0;top:0;width:100%;height:100%" loading="lazy"/></picture></noscript></div></div><p class="py-2 false">Make sure to do this for every C++ class (except for the movement component which is C++ only). </p><p class="py-2 false">Where you put it doesn&#x27;t matter too much but I&#x27;ve separated the game mode and game state into a Core folder, and controller, pawn, and player state into a Player folder.</p><p class="py-2 false">After you&#x27;ve created the BP classes go into your game mode BP (here named <code class="px-1 rounded-sm bg-snow-storm-0 dark:bg-polar-night-2">BP_CactusGameMode</code>) and set the default classes to your newly created BP classes:</p><div class="flex justify-center cursor-pointer"><div style="overflow:hidden;position:relative;width:100%;max-width:585px"><img style="display:block;width:100%" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1ODUiIGhlaWdodD0iNDU2Ij48L3N2Zz4=" aria-hidden="true" alt=""/><img role="presentation" aria-hidden="true" alt="" src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAoHBwgHBg8QCBAQEA0NDw4ODQcNBxINDQcYFx8ZGBYVFhUaHysjGh0oHRUWJDUlKC0vMjIyGSI4PTcwPCsxMi8BCgsLDw0OFQ4NFS8cFhwvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL//AABEIABMAGAMBIgACEQEDEQH/xAAZAAACAwEAAAAAAAAAAAAAAAAAAgEDBAb/xAAdEAACAgIDAQAAAAAAAAAAAAAAAQMhBDECERIT/8QAFQEBAQAAAAAAAAAAAAAAAAAAAAH/xAAVEQEBAAAAAAAAAAAAAAAAAAAAAf/aAAwDAQACEQMRAD8A42WVcUZvoubojL780U4qfdlpGhvyAs1ICB8jRXArIAB59AABK//Z" style="opacity:1;transition:opacity 500ms;position:absolute;left:0;top:0;width:100%"/><noscript><picture><source srcSet="https://www.datocms-assets.com/77616/1660777794-fpmfs-setup-game-mode.png?auto=format&amp;dpr=0.25&amp;fm=webp&amp;max-w=600 146w,https://www.datocms-assets.com/77616/1660777794-fpmfs-setup-game-mode.png?auto=format&amp;dpr=0.5&amp;fm=webp&amp;max-w=600 292w,https://www.datocms-assets.com/77616/1660777794-fpmfs-setup-game-mode.png?auto=format&amp;dpr=0.75&amp;fm=webp&amp;max-w=600 438w,https://www.datocms-assets.com/77616/1660777794-fpmfs-setup-game-mode.png?auto=format&amp;fm=webp&amp;max-w=600 585w" sizes="(max-width: 585px) 100vw, 585px" type="image/webp"/><source srcSet="https://www.datocms-assets.com/77616/1660777794-fpmfs-setup-game-mode.png?auto=format&amp;dpr=0.25&amp;max-w=600 146w,https://www.datocms-assets.com/77616/1660777794-fpmfs-setup-game-mode.png?auto=format&amp;dpr=0.5&amp;max-w=600 292w,https://www.datocms-assets.com/77616/1660777794-fpmfs-setup-game-mode.png?auto=format&amp;dpr=0.75&amp;max-w=600 438w,https://www.datocms-assets.com/77616/1660777794-fpmfs-setup-game-mode.png?auto=format&amp;max-w=600 585w" sizes="(max-width: 585px) 100vw, 585px"/><img src="https://www.datocms-assets.com/77616/1660777794-fpmfs-setup-game-mode.png?auto=format&amp;max-w=600" alt="" style="position:absolute;left:0;top:0;width:100%;height:100%" loading="lazy"/></picture></noscript></div></div><p class="py-2 false">Then go into Edit -&gt; Project Settings -&gt; Maps &amp; Modes and set &quot;Default GameMode&quot; to your GameMode BP class.</p><div class="flex justify-center cursor-pointer"><div style="overflow:hidden;position:relative;width:100%;max-width:455px"><img style="display:block;width:100%" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0NTUiIGhlaWdodD0iNjMiPjwvc3ZnPg==" aria-hidden="true" alt=""/><img role="presentation" aria-hidden="true" alt="" src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAoHBwgHBgoPCAgLCgoLDhUQFQ0NDh0VDRUMFxUdGBYTFhUdKysjGh0oHRUWJDUlKC0vMjIyGSI4PTcwPCsxMi8BCgsLBQUFEAUFEC8cFhwvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL//AABEIAAQAGAMBIgACEQEDEQH/xAAXAAEAAwAAAAAAAAAAAAAAAAAABAUG/8QAHhAAAgIBBQEAAAAAAAAAAAAAAAIBAwQhIkGBkRP/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/8QAFBEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEQMRAD8Aw2Rm3surR4V65Nn04AAn1Wy0blWegAB//9k=" style="opacity:1;transition:opacity 500ms;position:absolute;left:0;top:0;width:100%"/><noscript><picture><source srcSet="https://www.datocms-assets.com/77616/1660778575-fpmfs-setup-modes.png?auto=format&amp;dpr=0.25&amp;fm=webp&amp;max-w=600 113w,https://www.datocms-assets.com/77616/1660778575-fpmfs-setup-modes.png?auto=format&amp;dpr=0.5&amp;fm=webp&amp;max-w=600 227w,https://www.datocms-assets.com/77616/1660778575-fpmfs-setup-modes.png?auto=format&amp;dpr=0.75&amp;fm=webp&amp;max-w=600 341w,https://www.datocms-assets.com/77616/1660778575-fpmfs-setup-modes.png?auto=format&amp;fm=webp&amp;max-w=600 455w" sizes="(max-width: 455px) 100vw, 455px" type="image/webp"/><source srcSet="https://www.datocms-assets.com/77616/1660778575-fpmfs-setup-modes.png?auto=format&amp;dpr=0.25&amp;max-w=600 113w,https://www.datocms-assets.com/77616/1660778575-fpmfs-setup-modes.png?auto=format&amp;dpr=0.5&amp;max-w=600 227w,https://www.datocms-assets.com/77616/1660778575-fpmfs-setup-modes.png?auto=format&amp;dpr=0.75&amp;max-w=600 341w,https://www.datocms-assets.com/77616/1660778575-fpmfs-setup-modes.png?auto=format&amp;max-w=600 455w" sizes="(max-width: 455px) 100vw, 455px"/><img src="https://www.datocms-assets.com/77616/1660778575-fpmfs-setup-modes.png?auto=format&amp;max-w=600" alt="" style="position:absolute;left:0;top:0;width:100%;height:100%" loading="lazy"/></picture></noscript></div></div><p class="py-2 false">Additionally to get more realistic character proportions I&#x27;ve edited the player pawn BP with the following properties:</p><ul class="list-disc list-inside"><li class="my-2 pl-2"><p class="py-2 inline">Capsule component &quot;Capsule Half Height&quot; set to 88</p></li><li class="my-2 pl-2"><p class="py-2 inline">Capsule component &quot;Capsule Radius&quot; set to 30</p></li><li class="my-2 pl-2"><p class="py-2 inline">Camera location Z set to 60</p></li></ul><p class="py-2 false">It should look similar to this:</p><div class="flex justify-center cursor-pointer"><div style="overflow:hidden;position:relative;width:100%;max-width:672px"><img style="display:block;width:100%" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI2NzIiIGhlaWdodD0iNjcxIj48L3N2Zz4=" aria-hidden="true" alt=""/><img role="presentation" aria-hidden="true" alt="" src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAoHBxAHBg0SDgoKCgoLDBgHBwkOChEJDREYFx8ZGBYfFiEaHysjGh0oHRUWJDUlKC0vMjIyGSI4PTcwPCsxMi8BCgsLDg0OHRAQHS8pIhwwLy8vLy8vLy8vLy8vNS8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL//AABEIABgAGAMBIgACEQEDEQH/xAAXAAEBAQEAAAAAAAAAAAAAAAAAAwIG/8QAGhAAAgMBAQAAAAAAAAAAAAAAAAIBESESA//EABcBAQEBAQAAAAAAAAAAAAAAAAIBAwD/xAAbEQACAQUAAAAAAAAAAAAAAAAAARECISIxQf/aAAwDAQACEQMRAD8A4FZsNkEvFjXs+GqWMk6YZrBFWuQCm6OZqG5Ev0AFVPQoJzgADMEP/9k=" style="opacity:1;transition:opacity 500ms;position:absolute;left:0;top:0;width:100%"/><noscript><picture><source srcSet="https://www.datocms-assets.com/77616/1660778753-fpmfs-setup-pawn.png?auto=format&amp;dpr=0.25&amp;fm=webp&amp;max-w=600 168w,https://www.datocms-assets.com/77616/1660778753-fpmfs-setup-pawn.png?auto=format&amp;dpr=0.5&amp;fm=webp&amp;max-w=600 336w,https://www.datocms-assets.com/77616/1660778753-fpmfs-setup-pawn.png?auto=format&amp;dpr=0.75&amp;fm=webp&amp;max-w=600 504w,https://www.datocms-assets.com/77616/1660778753-fpmfs-setup-pawn.png?auto=format&amp;fm=webp&amp;max-w=600 672w" sizes="(max-width: 672px) 100vw, 672px" type="image/webp"/><source srcSet="https://www.datocms-assets.com/77616/1660778753-fpmfs-setup-pawn.png?auto=format&amp;dpr=0.25&amp;max-w=600 168w,https://www.datocms-assets.com/77616/1660778753-fpmfs-setup-pawn.png?auto=format&amp;dpr=0.5&amp;max-w=600 336w,https://www.datocms-assets.com/77616/1660778753-fpmfs-setup-pawn.png?auto=format&amp;dpr=0.75&amp;max-w=600 504w,https://www.datocms-assets.com/77616/1660778753-fpmfs-setup-pawn.png?auto=format&amp;max-w=600 672w" sizes="(max-width: 672px) 100vw, 672px"/><img src="https://www.datocms-assets.com/77616/1660778753-fpmfs-setup-pawn.png?auto=format&amp;max-w=600" alt="" style="position:absolute;left:0;top:0;width:100%;height:100%" loading="lazy"/></picture></noscript></div></div><p class="py-2 false">Finally create a test level, place a player start actor and start the game and you should be looking through the camera of your player pawn BP and be unable to move or look (if you can fly around then you&#x27;re still using the default game mode base and controller).</p><h2 class="font-display text-3xl pt-5">Enhanced Input plugin</h2><p class="py-2 false">For input this series of tutorials will utilize the experimental Enhanced Input plugin instead of the traditional built-in mapping system. Enabling it is a simple process. First go to Edit -&gt; Plugins and enable the plugin:</p><div class="flex justify-center cursor-pointer"><div style="overflow:hidden;position:relative;width:100%;max-width:692px"><img style="display:block;width:100%" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI2OTIiIGhlaWdodD0iMjA1Ij48L3N2Zz4=" aria-hidden="true" alt=""/><img role="presentation" aria-hidden="true" alt="" src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAoHBwgHBhIICAgLCg0XGg4NDhYNDh0VGg4YFxUZGBYTFhUmKzojJh0oHRUWJDUlKC0vMjIyHSI4PTcwPCsxMi8BCgsLDg0OHBAQHDsoIigvLy8vOzs7NTs7Ly8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL//AABEIAAgAGAMBIgACEQEDEQH/xAAXAAEAAwAAAAAAAAAAAAAAAAAAAgQG/8QAHRAAAgEEAwAAAAAAAAAAAAAAAAEDAgQFISOBkf/EABYBAQEBAAAAAAAAAAAAAAAAAAIBAP/EABcRAQEBAQAAAAAAAAAAAAAAAAEAAhH/2gAMAwEAAhEDEQA/AMTdV2ap1WvSrDBjZ3yOlgGV5LOaU2NxCWml2AAC0S//2Q==" style="opacity:1;transition:opacity 500ms;position:absolute;left:0;top:0;width:100%"/><noscript><picture><source srcSet="https://www.datocms-assets.com/77616/1660779156-fpmfs-setup-plugins.png?auto=format&amp;dpr=0.25&amp;fm=webp&amp;max-w=600 173w,https://www.datocms-assets.com/77616/1660779156-fpmfs-setup-plugins.png?auto=format&amp;dpr=0.5&amp;fm=webp&amp;max-w=600 346w,https://www.datocms-assets.com/77616/1660779156-fpmfs-setup-plugins.png?auto=format&amp;dpr=0.75&amp;fm=webp&amp;max-w=600 519w,https://www.datocms-assets.com/77616/1660779156-fpmfs-setup-plugins.png?auto=format&amp;fm=webp&amp;max-w=600 692w" sizes="(max-width: 692px) 100vw, 692px" type="image/webp"/><source srcSet="https://www.datocms-assets.com/77616/1660779156-fpmfs-setup-plugins.png?auto=format&amp;dpr=0.25&amp;max-w=600 173w,https://www.datocms-assets.com/77616/1660779156-fpmfs-setup-plugins.png?auto=format&amp;dpr=0.5&amp;max-w=600 346w,https://www.datocms-assets.com/77616/1660779156-fpmfs-setup-plugins.png?auto=format&amp;dpr=0.75&amp;max-w=600 519w,https://www.datocms-assets.com/77616/1660779156-fpmfs-setup-plugins.png?auto=format&amp;max-w=600 692w" sizes="(max-width: 692px) 100vw, 692px"/><img src="https://www.datocms-assets.com/77616/1660779156-fpmfs-setup-plugins.png?auto=format&amp;max-w=600" alt="" style="position:absolute;left:0;top:0;width:100%;height:100%" loading="lazy"/></picture></noscript></div></div><p class="py-2 false">Then restart the editor, go to Edit -&gt; Project Settings -&gt; Input, and set &quot;Default Player Input Class&quot; and &quot;Default Input Component Class&quot; to the Enhanced Input variants:</p><div class="flex justify-center cursor-pointer"><div style="overflow:hidden;position:relative;width:100%;max-width:445px"><img style="display:block;width:100%" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0NDUiIGhlaWdodD0iODIiPjwvc3ZnPg==" aria-hidden="true" alt=""/><img role="presentation" aria-hidden="true" alt="" src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAoHBwgHBgoICAgLCgoODgwQDQ0NDh0SDQ0NFx8ZGBYTFhUaHysjGh0oHRUWJDUlKC0vMjIyGSI4PTcwPCsxMi8BCgsLBQUFEAUFEC8cFhwvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL//AABEIAAUAGAMBIgACEQEDEQH/xAAYAAEAAwEAAAAAAAAAAAAAAAAAAwQGAf/EABwQAAICAgMAAAAAAAAAAAAAAAACASEiMgMEE//EABQBAQAAAAAAAAAAAAAAAAAAAAD/xAAUEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwDF83YeYsp+uWoAE6vDRanAAP/Z" style="opacity:1;transition:opacity 500ms;position:absolute;left:0;top:0;width:100%"/><noscript><picture><source srcSet="https://www.datocms-assets.com/77616/1660779262-fpmfs-setup-input.png?auto=format&amp;dpr=0.25&amp;fm=webp&amp;max-w=600 111w,https://www.datocms-assets.com/77616/1660779262-fpmfs-setup-input.png?auto=format&amp;dpr=0.5&amp;fm=webp&amp;max-w=600 222w,https://www.datocms-assets.com/77616/1660779262-fpmfs-setup-input.png?auto=format&amp;dpr=0.75&amp;fm=webp&amp;max-w=600 333w,https://www.datocms-assets.com/77616/1660779262-fpmfs-setup-input.png?auto=format&amp;fm=webp&amp;max-w=600 445w" sizes="(max-width: 445px) 100vw, 445px" type="image/webp"/><source srcSet="https://www.datocms-assets.com/77616/1660779262-fpmfs-setup-input.png?auto=format&amp;dpr=0.25&amp;max-w=600 111w,https://www.datocms-assets.com/77616/1660779262-fpmfs-setup-input.png?auto=format&amp;dpr=0.5&amp;max-w=600 222w,https://www.datocms-assets.com/77616/1660779262-fpmfs-setup-input.png?auto=format&amp;dpr=0.75&amp;max-w=600 333w,https://www.datocms-assets.com/77616/1660779262-fpmfs-setup-input.png?auto=format&amp;max-w=600 445w" sizes="(max-width: 445px) 100vw, 445px"/><img src="https://www.datocms-assets.com/77616/1660779262-fpmfs-setup-input.png?auto=format&amp;max-w=600" alt="" style="position:absolute;left:0;top:0;width:100%;height:100%" loading="lazy"/></picture></noscript></div></div><p class="py-2 false">Now everything should be up and connected and we&#x27;re ready to implement input and movement, which we will do in the next part.</p></div><div class="flex"><div class="grow text-left"></div><div class="grow text-right"><a class="text-frost-3 dark:text-frost-1 hover:opacity-50 active:opacity-75" href="/tutorial/character-movement-from-scratch-pt-2-basic-movement/">pt 2: Basic Movement<!-- --> »</a></div></div></div><div class="h-[1px] w-full opacity-10 bg-polar-night-0 dark:bg-snow-storm-2"></div></div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"siteMetainfo":{"headerTitle":"Ljung","headerSubtitle":".dev","pageTitlePrefix":"Ljung | "},"_site":{"globalSeo":{"siteName":"Ljung","fallbackSeo":{"title":"Ljung | Game Dev","description":"Indie Game Developer from Sweden 🎮"}}},"post":{"title":"Character Movement from Scratch pt 1: Introduction and Setup","description":"Learn how to make basic first-person character movement from scratch in Unreal Engine using C++.","seriesPrevious":null,"seriesNext":{"slug":"character-movement-from-scratch-pt-2-basic-movement","seriesTitle":"pt 2: Basic Movement"},"content":{"value":{"schema":"dast","document":{"type":"root","children":[{"type":"blockquote","children":[{"type":"paragraph","children":[{"type":"span","value":"A project using this tutorial series is "},{"url":"https://github.com/LjungDev/Cactus","meta":[{"id":"target","value":"_blank"}],"type":"link","children":[{"type":"span","value":"tracked on GitHub"}]},{"type":"span","value":". The revision after this part is "},{"url":"https://github.com/LjungDev/Cactus/commit/b2f7b4c300e5c74ae9ba6345f8302316e906a606","meta":[{"id":"target","value":"_blank"}],"type":"link","children":[{"type":"span","value":"b2f7b4c"}]},{"type":"span","value":"."}]}]},{"type":"paragraph","children":[{"type":"span","value":"Hej!"}]},{"type":"paragraph","children":[{"type":"span","value":"If you're using Unreal Engine and you have a character that you want to move then you've probably stumbled upon the built-in "},{"type":"span","marks":["code"],"value":"Character"},{"type":"span","value":" and "},{"type":"span","marks":["code"],"value":"CharacterMovement"},{"type":"span","value":" classes. Together these classes allow you to easily set up a game character complete with movement, gravity, physics, animations, and networking."}]},{"type":"paragraph","children":[{"type":"span","value":"However this can also be very daunting as you might find yourself struggling to find the right combination of properties and values to get just the right feel for your game. Looking through the source code is extremely helpful, however between the two classes there are almost 19k lines of code, and "},{"type":"span","marks":["code"],"value":"CharacterMovement.cpp"},{"type":"span","value":" alone takes up 13k (!) of those. While lots of it is chalked up to comments and formatting, the breadth is the meticulous engineering efforts of 50+ contributors."}]},{"type":"paragraph","children":[{"type":"span","value":"But the pair of classes are not a one-size-fits-all. Notably they're probably too heavy for something like crowd controlling hundreds of units in an RTS, and integrating custom movement options (e.g. wall-climbing, vaulting etc.) might not seem straight-forward."}]},{"type":"paragraph","children":[{"type":"span","value":"For me, I wanted to understand how exactly basic movement works and so I set out to build a basic first-person shooter game (similar in vein to old-school Quake and Doom games) featuring basic but common movement operations."}]},{"type":"paragraph","children":[{"type":"span","value":"The list of movement operations I'm going to implement are:"}]},{"type":"list","style":"bulleted","children":[{"type":"listItem","children":[{"type":"paragraph","children":[{"type":"span","value":"Basic movement + camera look"}]}]},{"type":"listItem","children":[{"type":"paragraph","children":[{"type":"span","value":"Simple collision and slide along surfaces"}]}]},{"type":"listItem","children":[{"type":"paragraph","children":[{"type":"span","value":"Gravity"}]}]},{"type":"listItem","children":[{"type":"paragraph","children":[{"type":"span","value":"Jumping"}]}]},{"type":"listItem","children":[{"type":"paragraph","children":[{"type":"span","value":"Step down (walk down slopes/stairs)"}]}]},{"type":"listItem","children":[{"type":"paragraph","children":[{"type":"span","value":"Step up (walk up slopes/stairs)"}]}]},{"type":"listItem","children":[{"type":"paragraph","children":[{"type":"span","value":"Limit climbable angles (steepness)"}]}]},{"type":"listItem","children":[{"type":"paragraph","children":[{"type":"span","value":"Moving platforms"}]}]},{"type":"listItem","children":[{"type":"paragraph","children":[{"type":"span","value":"Friction (e.g. ice, mud)"}]}]},{"type":"listItem","children":[{"type":"paragraph","children":[{"type":"span","value":"Swimming"}]}]}]},{"type":"blockquote","children":[{"type":"paragraph","children":[{"type":"span","value":"Note: This series does not go too much into depth some of the Unreal and mathematical details, so it is best if you're already familiar with the engine in general, as well as basic vector math and physics."}]}]},{"type":"heading","level":1,"children":[{"type":"span","value":"Setup"}]},{"type":"paragraph","children":[{"type":"span","value":"To start off this tutorial series we will create a fresh project and setup all the boilerplate needed to get going with the movement code."}]},{"type":"paragraph","children":[{"type":"span","value":"I will be using Unreal Engine 5.0.3 on Windows 10 however the instructions should be mostly the same for newer/other versions."}]},{"type":"heading","level":2,"children":[{"type":"span","value":"Boilerplate classes"}]},{"type":"paragraph","children":[{"type":"span","value":"To start implementing movement code we start with a blank C++ project. The basic classes we need are:"}]},{"type":"list","style":"bulleted","children":[{"type":"listItem","children":[{"type":"paragraph","children":[{"type":"span","value":"A game mode class ("},{"type":"span","marks":["code"],"value":"AGameMode"},{"type":"span","value":", here named "},{"type":"span","marks":["code"],"value":"ACactusGameMode"},{"type":"span","value":")"}]}]},{"type":"listItem","children":[{"type":"paragraph","children":[{"type":"span","value":"A player controller class ("},{"type":"span","marks":["code"],"value":"APlayerController"},{"type":"span","value":", here named "},{"type":"span","marks":["code"],"value":"ACactusPlayerController"},{"type":"span","value":")"}]}]},{"type":"listItem","children":[{"type":"paragraph","children":[{"type":"span","value":"A pawn class ("},{"type":"span","marks":["code"],"value":"APawn"},{"type":"span","value":", here named "},{"type":"span","marks":["code"],"value":"ACactusPlayerPawn"},{"type":"span","value":")"}]}]},{"type":"listItem","children":[{"type":"paragraph","children":[{"type":"span","value":"A pawn movement component ("},{"type":"span","marks":["code"],"value":"UPawnMovementComponent"},{"type":"span","value":", here named "},{"type":"span","marks":["code"],"value":"USimpleMovementComponent"},{"type":"span","value":")"}]}]}]},{"type":"paragraph","children":[{"type":"span","value":"In addition I've also created the following boilerplate classes that are for now unrelated to movement:"}]},{"type":"list","style":"bulleted","children":[{"type":"listItem","children":[{"type":"paragraph","children":[{"type":"span","marks":["code"],"value":"ACactusGameState"},{"type":"span","value":" derived from "},{"type":"span","marks":["code"],"value":"AGameStateBase"}]}]},{"type":"listItem","children":[{"type":"paragraph","children":[{"type":"span","marks":["code"],"value":"ACactusPlayerState"},{"type":"span","value":" derived from "},{"type":"span","marks":["code"],"value":"APlayerState"}]}]}]},{"type":"paragraph","children":[{"type":"span","value":"Here are the required source files:"}]},{"type":"list","style":"bulleted","children":[{"type":"listItem","children":[{"type":"paragraph","children":[{"type":"span","marks":["code"],"value":"CactusGameMode.h"}]}]}]},{"code":"#pragma once\n\n#include \"CoreMinimal.h\"\n#include \"GameFramework/GameModeBase.h\"\n#include \"CactusGameMode.generated.h\"\n\nUCLASS()\nclass CACTUS_API ACactusGameMode final : public AGameModeBase\n{\n  GENERATED_BODY()\n};\n","type":"code","language":"cpp"},{"type":"list","style":"bulleted","children":[{"type":"listItem","children":[{"type":"paragraph","children":[{"type":"span","marks":["code"],"value":"CactusGameMode.cpp"}]}]}]},{"code":"#include \"CactusGameMode.h\"\n","type":"code","language":"cpp"},{"type":"list","style":"bulleted","children":[{"type":"listItem","children":[{"type":"paragraph","children":[{"type":"span","marks":["code"],"value":"CactusPlayerController.h"}]}]}]},{"code":"#pragma once\n\n#include \"CoreMinimal.h\"\n#include \"CactusPlayerController.generated.h\"\n\nUCLASS()\nclass CACTUS_API ACactusPlayerController final : public APlayerController\n{\n  GENERATED_BODY()\n};\n","type":"code","language":"cpp"},{"type":"list","style":"bulleted","children":[{"type":"listItem","children":[{"type":"paragraph","children":[{"type":"span","marks":["code"],"value":"CactusPlayerController.cpp"}]}]}]},{"code":"#include \"CactusPlayerController.h\"\n","type":"code","language":"cpp"},{"type":"list","style":"bulleted","children":[{"type":"listItem","children":[{"type":"paragraph","children":[{"type":"span","marks":["code"],"value":"CactusPlayerPawn.h"}]}]}]},{"code":"#pragma once\n\n#include \"CoreMinimal.h\"\n#include \"GameFramework/Pawn.h\"\n#include \"CactusPlayerPawn.generated.h\"\n\nUCLASS()\nclass CACTUS_API ACactusPlayerPawn final : public APawn\n{\n  GENERATED_BODY()\n\npublic:\n  UPROPERTY(EditDefaultsOnly)\n  class UCapsuleComponent* CapsuleComponent;\n\n  UPROPERTY(EditDefaultsOnly)\n  class UCameraComponent* CameraComponent;\n\n  UPROPERTY(EditDefaultsOnly)\n  class USimpleMovementComponent* MovementComponent;\n\n  ACactusPlayerPawn();\n};\n","type":"code","language":"cpp"},{"type":"list","style":"bulleted","children":[{"type":"listItem","children":[{"type":"paragraph","children":[{"type":"span","marks":["code"],"value":"CactusPlayerPawn.cpp"}]}]}]},{"code":"#include \"CactusPlayerPawn.h\"\n\n#include \"SimpleMovementComponent.h\"\n#include \"Camera/CameraComponent.h\"\n#include \"Components/CapsuleComponent.h\"\n\nACactusPlayerPawn::ACactusPlayerPawn()\n{\n  CapsuleComponent = CreateDefaultSubobject\u003cUCapsuleComponent\u003e(TEXT(\"Collider\"));\n  SetRootComponent(CapsuleComponent);\n\n  CameraComponent = CreateDefaultSubobject\u003cUCameraComponent\u003e(TEXT(\"Camera\"));\n  CameraComponent-\u003eSetupAttachment(CapsuleComponent);\n\n  MovementComponent = CreateDefaultSubobject\u003cUSimpleMovementComponent\u003e(TEXT(\"Movement\"));\n}\n","type":"code","language":"cpp"},{"type":"list","style":"bulleted","children":[{"type":"listItem","children":[{"type":"paragraph","children":[{"type":"span","marks":["code"],"value":"SimpleMovementComponent.h"}]}]}]},{"code":"#pragma once\n\n#include \"CoreMinimal.h\"\n#include \"GameFramework/PawnMovementComponent.h\"\n#include \"SimpleMovementComponent.generated.h\"\n\nUCLASS()\nclass CACTUS_API USimpleMovementComponent final : public UPawnMovementComponent\n{\n  GENERATED_BODY()\n};\n","type":"code","language":"cpp"},{"type":"list","style":"bulleted","children":[{"type":"listItem","children":[{"type":"paragraph","children":[{"type":"span","marks":["code"],"value":"SimpleMovementComponent.cpp"}]}]}]},{"code":"#include \"SimpleMovementComponent.h\"\n","type":"code","language":"cpp"},{"type":"heading","level":2,"children":[{"type":"span","value":"Blueprint classes"}]},{"type":"paragraph","children":[{"type":"span","value":"Next up is creating blueprint classes based on these C++ classes. This is technically not required but helps for rapid iteration when testing properties and debugging."}]},{"item":"55078866","type":"block"},{"type":"paragraph","children":[{"type":"span","value":"Make sure to do this for every C++ class (except for the movement component which is C++ only). "}]},{"type":"paragraph","children":[{"type":"span","value":"Where you put it doesn't matter too much but I've separated the game mode and game state into a Core folder, and controller, pawn, and player state into a Player folder."}]},{"type":"paragraph","children":[{"type":"span","value":"After you've created the BP classes go into your game mode BP (here named "},{"type":"span","marks":["code"],"value":"BP_CactusGameMode"},{"type":"span","value":") and set the default classes to your newly created BP classes:"}]},{"item":"55078867","type":"block"},{"type":"paragraph","children":[{"type":"span","value":"Then go into Edit -\u003e Project Settings -\u003e Maps \u0026 Modes and set \"Default GameMode\" to your GameMode BP class."}]},{"item":"55078882","type":"block"},{"type":"paragraph","children":[{"type":"span","value":"Additionally to get more realistic character proportions I've edited the player pawn BP with the following properties:"}]},{"type":"list","style":"bulleted","children":[{"type":"listItem","children":[{"type":"paragraph","children":[{"type":"span","value":"Capsule component \"Capsule Half Height\" set to 88"}]}]},{"type":"listItem","children":[{"type":"paragraph","children":[{"type":"span","value":"Capsule component \"Capsule Radius\" set to 30"}]}]},{"type":"listItem","children":[{"type":"paragraph","children":[{"type":"span","value":"Camera location Z set to 60"}]}]}]},{"type":"paragraph","children":[{"type":"span","value":"It should look similar to this:"}]},{"item":"55078883","type":"block"},{"type":"paragraph","children":[{"type":"span","value":"Finally create a test level, place a player start actor and start the game and you should be looking through the camera of your player pawn BP and be unable to move or look (if you can fly around then you're still using the default game mode base and controller)."}]},{"type":"heading","level":2,"children":[{"type":"span","value":"Enhanced Input plugin"}]},{"type":"paragraph","children":[{"type":"span","value":"For input this series of tutorials will utilize the experimental Enhanced Input plugin instead of the traditional built-in mapping system. Enabling it is a simple process. First go to Edit -\u003e Plugins and enable the plugin:"}]},{"item":"55078898","type":"block"},{"type":"paragraph","children":[{"type":"span","value":"Then restart the editor, go to Edit -\u003e Project Settings -\u003e Input, and set \"Default Player Input Class\" and \"Default Input Component Class\" to the Enhanced Input variants:"}]},{"item":"55078899","type":"block"},{"type":"paragraph","children":[{"type":"span","value":"Now everything should be up and connected and we're ready to implement input and movement, which we will do in the next part."}]}]}},"blocks":[{"__typename":"ImageRecord","id":"55078866","image":{"responsiveImage":{"base64":"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAoHBwgHBhIRERALCgoLDhEVDg0NGhMQDREYFxUZGCIfFhUaHysjJh0oHRUWJDUlKC0vMjIyGSI4PTcwPCsxMi8BCgsLDg0OHBAQHDsoHR07Ly8vNTs7OzUvLy8vLy8vLy8vNS8vNS8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL//AABEIABkAGAMBIgACEQEDEQH/xAAXAAADAQAAAAAAAAAAAAAAAAAABQYE/8QAHBAAAgMAAwEAAAAAAAAAAAAAAAIBAwQRMkEF/8QAFgEBAQEAAAAAAAAAAAAAAAAAAwIE/8QAHBEAAgICAwAAAAAAAAAAAAAAAQIAEQMSBCEx/9oADAMBAAIRAxEAPwA1a1ZBM+hYsMM7nePTDq1sgrZwp7kaylq1rwBJ0/UbkAzyVuWEMeWY4SBZpzw0lBf0FF3Y158a7CAjGotjFEAbgBbGt+RlJqf/2Q==","srcSet":"https://www.datocms-assets.com/77616/1660777502-fpmfs-setup-bp.png?auto=format\u0026dpr=0.25\u0026max-w=600 120w,https://www.datocms-assets.com/77616/1660777502-fpmfs-setup-bp.png?auto=format\u0026dpr=0.5\u0026max-w=600 241w,https://www.datocms-assets.com/77616/1660777502-fpmfs-setup-bp.png?auto=format\u0026dpr=0.75\u0026max-w=600 362w,https://www.datocms-assets.com/77616/1660777502-fpmfs-setup-bp.png?auto=format\u0026max-w=600 483w","webpSrcSet":"https://www.datocms-assets.com/77616/1660777502-fpmfs-setup-bp.png?auto=format\u0026dpr=0.25\u0026fm=webp\u0026max-w=600 120w,https://www.datocms-assets.com/77616/1660777502-fpmfs-setup-bp.png?auto=format\u0026dpr=0.5\u0026fm=webp\u0026max-w=600 241w,https://www.datocms-assets.com/77616/1660777502-fpmfs-setup-bp.png?auto=format\u0026dpr=0.75\u0026fm=webp\u0026max-w=600 362w,https://www.datocms-assets.com/77616/1660777502-fpmfs-setup-bp.png?auto=format\u0026fm=webp\u0026max-w=600 483w","sizes":"(max-width: 483px) 100vw, 483px","src":"https://www.datocms-assets.com/77616/1660777502-fpmfs-setup-bp.png?auto=format\u0026max-w=600","alt":null,"title":null,"width":483,"height":489,"aspectRatio":0.9877300613496932}}},{"__typename":"ImageRecord","id":"55078867","image":{"responsiveImage":{"base64":"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAoHBwgHBg8QCBAQEA0NDw4ODQcNBxINDQcYFx8ZGBYVFhUaHysjGh0oHRUWJDUlKC0vMjIyGSI4PTcwPCsxMi8BCgsLDw0OFQ4NFS8cFhwvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL//AABEIABMAGAMBIgACEQEDEQH/xAAZAAACAwEAAAAAAAAAAAAAAAAAAgEDBAb/xAAdEAACAgIDAQAAAAAAAAAAAAAAAQMhBDECERIT/8QAFQEBAQAAAAAAAAAAAAAAAAAAAAH/xAAVEQEBAAAAAAAAAAAAAAAAAAAAAf/aAAwDAQACEQMRAD8A42WVcUZvoubojL780U4qfdlpGhvyAs1ICB8jRXArIAB59AABK//Z","srcSet":"https://www.datocms-assets.com/77616/1660777794-fpmfs-setup-game-mode.png?auto=format\u0026dpr=0.25\u0026max-w=600 146w,https://www.datocms-assets.com/77616/1660777794-fpmfs-setup-game-mode.png?auto=format\u0026dpr=0.5\u0026max-w=600 292w,https://www.datocms-assets.com/77616/1660777794-fpmfs-setup-game-mode.png?auto=format\u0026dpr=0.75\u0026max-w=600 438w,https://www.datocms-assets.com/77616/1660777794-fpmfs-setup-game-mode.png?auto=format\u0026max-w=600 585w","webpSrcSet":"https://www.datocms-assets.com/77616/1660777794-fpmfs-setup-game-mode.png?auto=format\u0026dpr=0.25\u0026fm=webp\u0026max-w=600 146w,https://www.datocms-assets.com/77616/1660777794-fpmfs-setup-game-mode.png?auto=format\u0026dpr=0.5\u0026fm=webp\u0026max-w=600 292w,https://www.datocms-assets.com/77616/1660777794-fpmfs-setup-game-mode.png?auto=format\u0026dpr=0.75\u0026fm=webp\u0026max-w=600 438w,https://www.datocms-assets.com/77616/1660777794-fpmfs-setup-game-mode.png?auto=format\u0026fm=webp\u0026max-w=600 585w","sizes":"(max-width: 585px) 100vw, 585px","src":"https://www.datocms-assets.com/77616/1660777794-fpmfs-setup-game-mode.png?auto=format\u0026max-w=600","alt":null,"title":null,"width":585,"height":456,"aspectRatio":1.2828947368421053}}},{"__typename":"ImageRecord","id":"55078882","image":{"responsiveImage":{"base64":"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAoHBwgHBgoPCAgLCgoLDhUQFQ0NDh0VDRUMFxUdGBYTFhUdKysjGh0oHRUWJDUlKC0vMjIyGSI4PTcwPCsxMi8BCgsLBQUFEAUFEC8cFhwvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL//AABEIAAQAGAMBIgACEQEDEQH/xAAXAAEAAwAAAAAAAAAAAAAAAAAABAUG/8QAHhAAAgIBBQEAAAAAAAAAAAAAAAIBAwQhIkGBkRP/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/8QAFBEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEQMRAD8Aw2Rm3surR4V65Nn04AAn1Wy0blWegAB//9k=","srcSet":"https://www.datocms-assets.com/77616/1660778575-fpmfs-setup-modes.png?auto=format\u0026dpr=0.25\u0026max-w=600 113w,https://www.datocms-assets.com/77616/1660778575-fpmfs-setup-modes.png?auto=format\u0026dpr=0.5\u0026max-w=600 227w,https://www.datocms-assets.com/77616/1660778575-fpmfs-setup-modes.png?auto=format\u0026dpr=0.75\u0026max-w=600 341w,https://www.datocms-assets.com/77616/1660778575-fpmfs-setup-modes.png?auto=format\u0026max-w=600 455w","webpSrcSet":"https://www.datocms-assets.com/77616/1660778575-fpmfs-setup-modes.png?auto=format\u0026dpr=0.25\u0026fm=webp\u0026max-w=600 113w,https://www.datocms-assets.com/77616/1660778575-fpmfs-setup-modes.png?auto=format\u0026dpr=0.5\u0026fm=webp\u0026max-w=600 227w,https://www.datocms-assets.com/77616/1660778575-fpmfs-setup-modes.png?auto=format\u0026dpr=0.75\u0026fm=webp\u0026max-w=600 341w,https://www.datocms-assets.com/77616/1660778575-fpmfs-setup-modes.png?auto=format\u0026fm=webp\u0026max-w=600 455w","sizes":"(max-width: 455px) 100vw, 455px","src":"https://www.datocms-assets.com/77616/1660778575-fpmfs-setup-modes.png?auto=format\u0026max-w=600","alt":null,"title":null,"width":455,"height":63,"aspectRatio":7.222222222222222}}},{"__typename":"ImageRecord","id":"55078883","image":{"responsiveImage":{"base64":"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAoHBxAHBg0SDgoKCgoLDBgHBwkOChEJDREYFx8ZGBYfFiEaHysjGh0oHRUWJDUlKC0vMjIyGSI4PTcwPCsxMi8BCgsLDg0OHRAQHS8pIhwwLy8vLy8vLy8vLy8vNS8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL//AABEIABgAGAMBIgACEQEDEQH/xAAXAAEBAQEAAAAAAAAAAAAAAAAAAwIG/8QAGhAAAgMBAQAAAAAAAAAAAAAAAAIBESESA//EABcBAQEBAQAAAAAAAAAAAAAAAAIBAwD/xAAbEQACAQUAAAAAAAAAAAAAAAAAARECISIxQf/aAAwDAQACEQMRAD8A4FZsNkEvFjXs+GqWMk6YZrBFWuQCm6OZqG5Ev0AFVPQoJzgADMEP/9k=","srcSet":"https://www.datocms-assets.com/77616/1660778753-fpmfs-setup-pawn.png?auto=format\u0026dpr=0.25\u0026max-w=600 168w,https://www.datocms-assets.com/77616/1660778753-fpmfs-setup-pawn.png?auto=format\u0026dpr=0.5\u0026max-w=600 336w,https://www.datocms-assets.com/77616/1660778753-fpmfs-setup-pawn.png?auto=format\u0026dpr=0.75\u0026max-w=600 504w,https://www.datocms-assets.com/77616/1660778753-fpmfs-setup-pawn.png?auto=format\u0026max-w=600 672w","webpSrcSet":"https://www.datocms-assets.com/77616/1660778753-fpmfs-setup-pawn.png?auto=format\u0026dpr=0.25\u0026fm=webp\u0026max-w=600 168w,https://www.datocms-assets.com/77616/1660778753-fpmfs-setup-pawn.png?auto=format\u0026dpr=0.5\u0026fm=webp\u0026max-w=600 336w,https://www.datocms-assets.com/77616/1660778753-fpmfs-setup-pawn.png?auto=format\u0026dpr=0.75\u0026fm=webp\u0026max-w=600 504w,https://www.datocms-assets.com/77616/1660778753-fpmfs-setup-pawn.png?auto=format\u0026fm=webp\u0026max-w=600 672w","sizes":"(max-width: 672px) 100vw, 672px","src":"https://www.datocms-assets.com/77616/1660778753-fpmfs-setup-pawn.png?auto=format\u0026max-w=600","alt":null,"title":null,"width":672,"height":671,"aspectRatio":1.0014903129657229}}},{"__typename":"ImageRecord","id":"55078898","image":{"responsiveImage":{"base64":"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAoHBwgHBhIICAgLCg0XGg4NDhYNDh0VGg4YFxUZGBYTFhUmKzojJh0oHRUWJDUlKC0vMjIyHSI4PTcwPCsxMi8BCgsLDg0OHBAQHDsoIigvLy8vOzs7NTs7Ly8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL//AABEIAAgAGAMBIgACEQEDEQH/xAAXAAEAAwAAAAAAAAAAAAAAAAAAAgQG/8QAHRAAAgEEAwAAAAAAAAAAAAAAAAEDAgQFISOBkf/EABYBAQEBAAAAAAAAAAAAAAAAAAIBAP/EABcRAQEBAQAAAAAAAAAAAAAAAAEAAhH/2gAMAwEAAhEDEQA/AMTdV2ap1WvSrDBjZ3yOlgGV5LOaU2NxCWml2AAC0S//2Q==","srcSet":"https://www.datocms-assets.com/77616/1660779156-fpmfs-setup-plugins.png?auto=format\u0026dpr=0.25\u0026max-w=600 173w,https://www.datocms-assets.com/77616/1660779156-fpmfs-setup-plugins.png?auto=format\u0026dpr=0.5\u0026max-w=600 346w,https://www.datocms-assets.com/77616/1660779156-fpmfs-setup-plugins.png?auto=format\u0026dpr=0.75\u0026max-w=600 519w,https://www.datocms-assets.com/77616/1660779156-fpmfs-setup-plugins.png?auto=format\u0026max-w=600 692w","webpSrcSet":"https://www.datocms-assets.com/77616/1660779156-fpmfs-setup-plugins.png?auto=format\u0026dpr=0.25\u0026fm=webp\u0026max-w=600 173w,https://www.datocms-assets.com/77616/1660779156-fpmfs-setup-plugins.png?auto=format\u0026dpr=0.5\u0026fm=webp\u0026max-w=600 346w,https://www.datocms-assets.com/77616/1660779156-fpmfs-setup-plugins.png?auto=format\u0026dpr=0.75\u0026fm=webp\u0026max-w=600 519w,https://www.datocms-assets.com/77616/1660779156-fpmfs-setup-plugins.png?auto=format\u0026fm=webp\u0026max-w=600 692w","sizes":"(max-width: 692px) 100vw, 692px","src":"https://www.datocms-assets.com/77616/1660779156-fpmfs-setup-plugins.png?auto=format\u0026max-w=600","alt":null,"title":null,"width":692,"height":205,"aspectRatio":3.375609756097561}}},{"__typename":"ImageRecord","id":"55078899","image":{"responsiveImage":{"base64":"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAoHBwgHBgoICAgLCgoODgwQDQ0NDh0SDQ0NFx8ZGBYTFhUaHysjGh0oHRUWJDUlKC0vMjIyGSI4PTcwPCsxMi8BCgsLBQUFEAUFEC8cFhwvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL//AABEIAAUAGAMBIgACEQEDEQH/xAAYAAEAAwEAAAAAAAAAAAAAAAAAAwQGAf/EABwQAAICAgMAAAAAAAAAAAAAAAACASEiMgMEE//EABQBAQAAAAAAAAAAAAAAAAAAAAD/xAAUEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwDF83YeYsp+uWoAE6vDRanAAP/Z","srcSet":"https://www.datocms-assets.com/77616/1660779262-fpmfs-setup-input.png?auto=format\u0026dpr=0.25\u0026max-w=600 111w,https://www.datocms-assets.com/77616/1660779262-fpmfs-setup-input.png?auto=format\u0026dpr=0.5\u0026max-w=600 222w,https://www.datocms-assets.com/77616/1660779262-fpmfs-setup-input.png?auto=format\u0026dpr=0.75\u0026max-w=600 333w,https://www.datocms-assets.com/77616/1660779262-fpmfs-setup-input.png?auto=format\u0026max-w=600 445w","webpSrcSet":"https://www.datocms-assets.com/77616/1660779262-fpmfs-setup-input.png?auto=format\u0026dpr=0.25\u0026fm=webp\u0026max-w=600 111w,https://www.datocms-assets.com/77616/1660779262-fpmfs-setup-input.png?auto=format\u0026dpr=0.5\u0026fm=webp\u0026max-w=600 222w,https://www.datocms-assets.com/77616/1660779262-fpmfs-setup-input.png?auto=format\u0026dpr=0.75\u0026fm=webp\u0026max-w=600 333w,https://www.datocms-assets.com/77616/1660779262-fpmfs-setup-input.png?auto=format\u0026fm=webp\u0026max-w=600 445w","sizes":"(max-width: 445px) 100vw, 445px","src":"https://www.datocms-assets.com/77616/1660779262-fpmfs-setup-input.png?auto=format\u0026max-w=600","alt":null,"title":null,"width":445,"height":82,"aspectRatio":5.426829268292683}}}]}},"isPreview":false},"__N_SSG":true},"page":"/tutorial/[slug]","query":{"slug":"character-movement-from-scratch-pt-1-introduction-and-setup"},"buildId":"FdMC6e8Jf18CHKkiz_cXU","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>